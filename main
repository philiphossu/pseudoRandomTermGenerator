#Goal: Generate a square system with d variables/equations
#having random coefficients, exponents, and number of terms.
#Output this as a list. Supports d from 1 to 12 variables/equations.

from random import randint
import decimal

def systemGenerator(d):
    #Definition for the master variable options
    masterVarOptions = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l"]
    #Definition for lists
    system = []
    varList = []
    numTerms = []

    #Initialize variables list
    for a in range(0,d):
        for b in range(0,d):
            varList.append(masterVarOptions[b]+"_"+str(a))
    #Initialize the number of terms for each equation
    for _ in range(0,d):
        numTerms.append(randint(1,d))
    #Initialize the system list with equation data so far
    for a in range(0,d):
        system.append(newEquation(numTerms[a],[], [], []))
    #Add d number of coefficients to each equation object
    for a in range(0,d):
        for b in range(0,system[a].terms):
            system[a].coefficients.append(randint(0,100)/randint(1,100));
    #Only add variables equal to the correct number of terms
    for a in range(0,d):
        for b in range(0,(d*numTerms[a])):
            system[a].variables.append(varList[b])
            #Also add random exponents to the equation for this same number of variables
            system[a].exponents.append(randint(0,30))

    #Print out number of terms list
    for a in numTerms:
        print(a)
    #Print out variables list
    for a in varList:
        print(a)
    #Print out final system list
    printEqnDetails(system)
    test = system[0].out(d)
    print(test)
    return

class newEquation(object):
    terms = []
    variables = []
    coefficients = []
    exponents = []
    def __init__(self, terms, variables, coefficients, exponents):
        self.terms = terms
        self.variables = variables
        self.coefficients = coefficients
        self.exponents = exponents
    def out(self, d):
        outstr = ""
        i = 0
        counter = 0
        for a in range(0, len(self.coefficients)):
            outstr += str(self.coefficients[a])+"("
            for b in range(counter,counter+d):
                outstr += str(self.variables[b])+"^"+str(self.exponents[i])
                if(b%d != d-1):
                    #print("b: ",b)
                    #print("added star")
                    outstr += "*"
                i += 1
                counter += 1
                if(counter == len(self.variables)):
                    break
            outstr += ")"
            if a != len(self.coefficients)-1:
                outstr += "+"
            #i = 0
        return outstr

def printEqnDetails(eqns):
    for a in eqns:
        print("Terms: ")
        print(a.terms)
        print("Variables: ")
        print(a.variables)
        print("Coefficients: ")
        print(a.coefficients)
        print("Exponents: ")
        print(a.exponents)
